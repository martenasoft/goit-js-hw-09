{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const formData = {\n  email: '',\n  message: ''\n};\n\nconst STORAGE_KEY = 'feedback-form-state';\nconst saveForm = (element) => {\n  const fromElement = element.target;\n  if (fromElement.tagName === undefined || !['INPUT', 'TEXTAREA'].includes(fromElement.tagName)) {\n    return;\n  }\n\n  const value = fromElement.value.trim();\n  formData[fromElement.name] = value;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n}\n\nconst loadForm = (form) => {\n  const data = localStorage.getItem(STORAGE_KEY);\n\n  if (data === null) {\n    return;\n  }\n\n  const parsedData = JSON.parse(data);\n  if (parsedData.email === undefined || parsedData.message === undefined) {\n    return;\n  }\n\n  form.email.value = parsedData.email;\n  form.message.value = parsedData.message;\n}\n\nconst submitForm = (event) => {\n  event.preventDefault();\n  const form = event.target;\n\n  if (form.email.value === '' || form.message.value === '') {\n    console.warn(\"Fill please all fields\");\n    return;\n  }\n\n  console.log(formData);\n  form.message.value = form.email.value = '';\n  localStorage.removeItem(STORAGE_KEY);\n};\n\nconst handleFrom = (form) => {\n  loadForm(form);\n  form.addEventListener('input', saveForm);\n  form.addEventListener('submit', submitForm)\n}\n\nhandleFrom(document.querySelector('.feedback-form'));"],"names":["formData","STORAGE_KEY","saveForm","element","fromElement","value","loadForm","form","data","parsedData","submitForm","event","handleFrom"],"mappings":"wFAAA,MAAMA,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAEMC,EAAc,sBACdC,EAAYC,GAAY,CAC5B,MAAMC,EAAcD,EAAQ,OAC5B,GAAIC,EAAY,UAAY,QAAa,CAAC,CAAC,QAAS,UAAU,EAAE,SAASA,EAAY,OAAO,EAC1F,OAGF,MAAMC,EAAQD,EAAY,MAAM,KAAI,EACpCJ,EAASI,EAAY,IAAI,EAAIC,EAC7B,aAAa,QAAQJ,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC5D,EAEMM,EAAYC,GAAS,CACzB,MAAMC,EAAO,aAAa,QAAQP,CAAW,EAE7C,GAAIO,IAAS,KACX,OAGF,MAAMC,EAAa,KAAK,MAAMD,CAAI,EAC9BC,EAAW,QAAU,QAAaA,EAAW,UAAY,SAI7DF,EAAK,MAAM,MAAQE,EAAW,MAC9BF,EAAK,QAAQ,MAAQE,EAAW,QAClC,EAEMC,EAAcC,GAAU,CAC5BA,EAAM,eAAc,EACpB,MAAMJ,EAAOI,EAAM,OAEnB,GAAIJ,EAAK,MAAM,QAAU,IAAMA,EAAK,QAAQ,QAAU,GAAI,CACxD,QAAQ,KAAK,wBAAwB,EACrC,MACD,CAED,QAAQ,IAAIP,CAAQ,EACpBO,EAAK,QAAQ,MAAQA,EAAK,MAAM,MAAQ,GACxC,aAAa,WAAWN,CAAW,CACrC,EAEMW,EAAcL,GAAS,CAC3BD,EAASC,CAAI,EACbA,EAAK,iBAAiB,QAASL,CAAQ,EACvCK,EAAK,iBAAiB,SAAUG,CAAU,CAC5C,EAEAE,EAAW,SAAS,cAAc,gBAAgB,CAAC"}